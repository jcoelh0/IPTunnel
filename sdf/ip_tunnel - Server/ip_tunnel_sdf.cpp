# include "include/netxpto_20180815.h"
# include "include/ip_tunnel_20180815.h"
# include "include/binary_source_20180815.h"
# include "include/sink_20180815.h"


// #####################################################################################################
// ################################### System Input Parameters #########################################
// #####################################################################################################

int numberOfBits{ 1601 };	

int main() {

	// #####################################################################################################
	// ########################### Signals Declaration and Inicialization ##################################
	// #####################################################################################################

	
	Binary IPTunnelSourceOut_3{ "S2_BinarySourceOut_0.sgn" };

	// #####################################################################################################
	// ########################### Blocks Declaration and Inicialization ###################################
	// #####################################################################################################

	
	IPTunnel ip_tunnel{ {},{&IPTunnelSourceOut_3} };
	
	Sink Sink_0{ {&IPTunnelSourceOut_3},{} };

	// #####################################################################################################
	// ########################### System Declaration and Inicialization ###################################
	// #####################################################################################################

	System MainSystem{ 
		{ 
			&ip_tunnel,
			&Sink_0

		}
	};

	MainSystem.setLogValue(true);
	MainSystem.setSaveSignals(true);

	// #####################################################################################################
	// #################################### System Run #####################################################
	// #####################################################################################################

	MainSystem.run();
	MainSystem.terminate();

	system("pause");
	return 0;

}